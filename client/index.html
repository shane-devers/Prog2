<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>RecipeShare</title>
        <link rel="stylesheet" type="text/css" href="semantic/dist/semantic.min.css">
        <script src="https://code.jquery.com/jquery-3.1.1.min.js" integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8=" crossorigin="anonymous"></script>
        <script src="semantic/dist/semantic.min.js"></script>
        <script src="index.js"></script>
        <link rel="stylesheet" type="text/css" href="index.css">       
    </head>
    <body>
        <script>
            window.fbAsyncInit = function() {
                FB.init({
                appId            : 400507017396771,
                autoLogAppEvents : true,
                xfbml            : true,
                version          : 'v3.2'
                });
            };

            function checkLoginState() {
            FB.getLoginStatus(function(response) {
    if (response.status === 'connected') {
        console.log("Connected");
        console.log(response.name);
        console.log(response);
        getName();
    } else {
        console.log(response.status);
    }
})}

function getName() {
    let name = "";
    FB.api('/me', function(response) {
        document.getElementById('Facebook').innerHTML = response.name;
        return response.name;
    });
    console.log(name);
    //document.getElementById('Facebook').innerHTML = name;
    return name;
}
   </script>
        <script async defer src="https://connect.facebook.net/en_US/sdk.js"></script>
        <div class="ui inverted segment">
            <div class="ui inverted secondary pointing menu">
                <div class="header item">RecipeShare</div>
                <a class="item active" id="home">Home</a>
                <a class="item">About</a>
                <div class="right menu">
                    <div id="Facebook">
                        <!--fb:login-button scope="public_profile,email" onlogin="checkLoginState();" size="medium">
                        </fb:login-button--->
                        <div class="fb-login-button" data-size="medium" scope="public_profile,email" onlogin="checkLoginState();" data-button-type="login_with" data-auto-logout-link="false" data-use-continue-as="false"></div>
                    </div>
                </div>
            </div>
        </div>
        <h1 class="ui header" id="title">Newest Recipes</h1>
        <button class="ui primary button" id="NewBtn">Add New Recipe</button>
        <div class="ui input">
            <input type="text" placeholder="Search..." id="search">
        </div>
        <div id="recipes" class="ui link cards"> <!-- Recipe cards will go here - generated by JavaScript from JSON ---> </div>
        <div id="newRecipe" class="ui modal">
            <div class="header">Add New Recipe</div>
            <form class="ui form" method="POST" action="/new" id="addRecipe">
                <div class="field">
                    <label>Title:</label>
                    <input type="text" placeholder="Title" name="RecipeTitle" id="RecipeTitle">
                </div>
                <div class="field">
                    <label>Description:</label>
                    <textarea type="text" placeholder="Description" name="RecipeDescription" id="RecipeDescription"></textarea>
                </div>
                <div class="field">
                    <label>Ingredients:</label>
                    <textarea type="text" placeholder="Ingredients" name="RecipeIngredients" id="RecipeIngredients"></textarea>
                    </div>
                <div class="field">
                    <label>Thumbnail:</label>
                    <input type="file" name="RecipeThumbnail" id="RecipeThumbnail" accept="image/*">
                </div> 
                <div class="actions">
                    <button class="ui green ok button" type="submit">
                        <i class="checkmark icon"></i>
                        OK
                    </button>
                    <button class="ui red basic cancel button" type="button">
                        <i class="remove icon"></i>
                        Cancel
                    </button>
                </div>
                </div>
            </form> 
        </div>
        <div id="modals"></div>
    </body>
</html>